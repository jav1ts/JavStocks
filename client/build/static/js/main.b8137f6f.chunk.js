(this.webpackJsonpjavstocks=this.webpackJsonpjavstocks||[]).push([[0],{224:function(e,t,a){e.exports=a(406)},231:function(e,t,a){},232:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(52),o=a.n(c),s=(a(229),a(15)),l=a.n(s),i=a(20),u=a(195),m=a(21),p=a(22),h=a(24),b=a(23),d=a(17),f=(a(231),a(424)),v=a(422),y=a(425),g=a(426),E=a(416),k=a(417),O=a(407),S=(a(232),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onFormChange,a=e.onLoginSubmit,n=e.handleOpen,c=e.isOpen;return r.a.createElement(E.a,{onSubmit:a,className:"even-height"},r.a.createElement(E.a.Field,null,r.a.createElement("label",{className:"left-align"},"Email"),r.a.createElement("input",{name:"email",type:"email",onChange:t})),r.a.createElement(E.a.Field,null,r.a.createElement("label",{className:"left-align"},"Password"),r.a.createElement("input",{name:"password",type:"password",onChange:t})),r.a.createElement(k.a,{trigger:r.a.createElement(O.a,{type:"submit"},"Sign In"),content:"Wrong Email or Password! Please Try Again",on:"click",open:c,onOpen:n,position:"bottom center"}))}}]),a}(n.Component)),C=(a(375),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onFormChange,a=e.onRegisterSubmit,n=e.isOpen,c=e.handleOpen;return r.a.createElement("div",null,r.a.createElement(E.a,{onSubmit:a,className:"even-height"},r.a.createElement(E.a.Field,null,r.a.createElement("label",{className:"left-align"},"Full Name"),r.a.createElement("input",{name:"username",type:"text",onChange:t})),r.a.createElement(E.a.Field,null,r.a.createElement("label",{className:"left-align"},"Email"),r.a.createElement("input",{name:"email",type:"email",onChange:t})),r.a.createElement(E.a.Field,null,r.a.createElement("label",{className:"left-align"},"Password"),r.a.createElement("input",{name:"password",type:"password",onChange:t})),r.a.createElement(k.a,{trigger:r.a.createElement(O.a,{type:"submit"},"Register"),content:"All Fields Required!",on:"click",open:n,onOpen:c,position:"bottom center"})))}}]),a}(n.Component)),j=(a(376),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleOpen,a=e.isOpen,n=e.activeItem,c=e.handleItemClick,o=e.onFormChange,s=e.onLoginSubmit,l=e.onRegisterSubmit;return r.a.createElement("div",null,r.a.createElement(f.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(f.a.Column,{style:{maxWidth:450}},r.a.createElement(v.a,{attached:"top",tabular:!0},r.a.createElement(v.a.Item,{name:"Login",active:"Login"===n,onClick:c}),r.a.createElement(v.a.Item,{name:"Register",active:"Register"===n,onClick:c})),r.a.createElement(y.a,{className:"even-height",attached:"bottom"},r.a.createElement(g.a,{as:"h1"},"JavStocks"),"Login"===n?r.a.createElement(S,{isOpen:a,handleOpen:t,onFormChange:this.props.onFormChange,onLoginSubmit:s}):"Register"===n?r.a.createElement(C,{isOpen:a,handleOpen:t,onFormChange:o,onRegisterSubmit:l}):null))))}}]),a}(n.Component)),w=a(62),x=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activeItem,a=e.handleItemClick,n=e.balance,c=e.username;return r.a.createElement(v.a,{size:"massive"},r.a.createElement(v.a.Item,{header:!0},c),r.a.createElement(v.a.Item,{header:!0},"Available Cash: $",n.toFixed(2)),r.a.createElement(v.a.Menu,{position:"right"},r.a.createElement(w.b,{to:"/portfolio"},r.a.createElement(v.a.Item,{position:"right",as:"p",name:"portfolio",active:"portfolio"===t,onClick:a})),r.a.createElement(w.b,{to:"/transactions"},r.a.createElement(v.a.Item,{position:"right",as:"p",name:"transactions",active:"transactions"===t,onClick:a}))))}}]),a}(n.Component),I=a(418),F=a(415),P=a(421),q=a(420),D=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.symbolData,a=e.onBuySubmit,n=e.onFormChange,c=e.qty,o=e.hideSymbol;return r.a.createElement(q.a,{fluid:!0},r.a.createElement(q.a.Content,null,r.a.createElement("i",{style:{float:"right",cursor:"pointer"},className:"close icon",onClick:o}),r.a.createElement(q.a.Header,null,t.companyName),r.a.createElement(q.a.Header,{style:{float:"right"}},"Current Price: $",t.latestPrice),r.a.createElement(q.a.Meta,null,t.symbol)),r.a.createElement(q.a.Content,{extra:!0},r.a.createElement(E.a,{onSubmit:a},r.a.createElement(F.a,{fluid:!0,action:"Buy",value:c,name:"qty",type:"number",min:"0",placeholder:"Enter Quantity...",onChange:n}))))}}]),a}(n.Component),N=a(133),L=a.n(N),R="http://localhost:4567";console.log(R);var A=L.a.create({baseURL:"".concat(R)}),B=L.a.create({baseURL:"".concat("https://cloud.iexapis.com/stable")}),H=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get("/stock/".concat(t,"/quote?token=").concat("sk_f49d868d7e9f4512a88712fd3679564b"));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:"FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("/user/signin",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("/user/register",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.put("/user/".concat(t,"/update"),a);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("/user/addstock",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("/user/".concat(t,"/getallstocks"));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={price:0,change:0,positive:!1,negative:!1},e.statusChecker=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a<0)){t.next=3;break}return t.next=3,e.setState({negative:!0,positive:!1});case 3:if(!(a>0)){t.next=6;break}return t.next=6,e.setState({negative:!1,positive:!0});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"componentWillMount",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(this.props.symbol);case 2:return t=e.sent,e.next=5,this.setState({price:t.data.latestPrice,change:t.data.change});case 5:return e.next=7,this.statusChecker(this.state.change);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.positive,a=e.negative,n=this.props,c=n.symbol,o=n.companyName,s=n.qty,l=this.state.price.toFixed(2),i=l*s;return r.a.createElement(I.a.Item,null,r.a.createElement(P.a,{positive:t,negative:a},r.a.createElement(P.a.Header,null,o," ( ",c," )"),r.a.createElement("p",null,s," Shares @ $",l,r.a.createElement("span",{style:{float:"right"}},"Total Value: $",i.toFixed(2)))))}}]),a}(n.Component),J=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={stocks:[]},e}return Object(p.a)(a,[{key:"componentWillMount",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(this.props.userId);case 2:t=e.sent,this.setState({stocks:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(this.props.userId);case 2:t=e.sent,this.setState({stocks:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.userId,a=e.balance,n=e.qty,c=e.qtyPurchased,o=e.onFormChange,s=e.onBuySubmit,l=e.symbolData,i=e.symbolPresent,u=e.onSymbolSubmit,m=e.symbol,p=e.currentPrice,h=e.hideSymbol,b=e.purchaseStatus,d=e.visible,v=e.isOpen,y=e.handleOpen,O=function(e){var t={},a=[];e.forEach((function(e){t[e.ticker]!==e.ticker&&(t[e.ticker]={qty:0,ticker:e.ticker,companyName:e.companyName})}));for(var n=0,r=Object.values(t);n<r.length;n++){var c=r[n];a.push(c)}for(var o=0;o<e.length;o++)for(var s=0;s<a.length;s++)e[o].ticker===a[s].ticker&&(a[s].qty+=e[o].qty);return a}(this.state.stocks);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{stackable:!0,columns:2},r.a.createElement(f.a.Column,null,r.a.createElement(g.a,{size:"huge"},"Portfolio"),r.a.createElement(I.a,null,O.map((function(e){return r.a.createElement($,{key:e.ticker,companyName:e.companyName,symbol:e.ticker,qty:e.qty})})))),r.a.createElement(f.a.Column,null,r.a.createElement(g.a,{size:"huge"},"Search For Stocks"),r.a.createElement(E.a,{onSubmit:u},r.a.createElement(k.a,{trigger:r.a.createElement(F.a,{fluid:!0,name:"symbol",value:m,className:"icon",icon:"search",placeholder:"Search Symbol...",onChange:o}),content:"Invalid Symbol",on:"click",open:v,onOpen:y,position:"bottom center"})),i?r.a.createElement(D,{userId:t,onBuySubmit:s,onFormChange:o,qty:n,balance:a,symbolData:l,currentPrice:p,hideSymbol:h}):null,"good"===b&&d?r.a.createElement(P.a,{positive:!0,header:"Success!",content:"You have successfully bought ".concat(c," shares of ").concat(this.props.symbolData.symbol)}):"nogood"===b&&d?r.a.createElement(P.a,{negative:!0,header:"Error!",content:"There was an error handling your purchase."}):null)))}}]),a}(n.Component),Q=a(419),V=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.qty,n=e.ticker,c=e.createdAt,o=new Date(c).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});return r.a.createElement(Q.a.Row,null,r.a.createElement(Q.a.Cell,null,r.a.createElement(g.a,{as:"h3"},t)),r.a.createElement(Q.a.Cell,null,n),r.a.createElement(Q.a.Cell,null,a),r.a.createElement(Q.a.Cell,null,o))}}]),a}(n.Component),Y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={stocks:[]},e}return Object(p.a)(a,[{key:"componentWillMount",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(this.props.userId);case 2:t=e.sent,this.setState({stocks:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(this.props.userId);case 2:t=e.sent,this.setState({stocks:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.stocks.map((function(e){return r.a.createElement(V,{key:e.id,ticker:e.ticker,name:e.companyName,qty:e.qty,createdAt:e.createdAt})})).reverse();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{size:"huge"},"Transactions"),r.a.createElement(Q.a,{celled:!0,padded:!0},r.a.createElement(Q.a.Header,null,r.a.createElement(Q.a.Row,null,r.a.createElement(Q.a.HeaderCell,null,"Company"),r.a.createElement(Q.a.HeaderCell,null,"Symbol"),r.a.createElement(Q.a.HeaderCell,null,"Quantity"),r.a.createElement(Q.a.HeaderCell,null,"Date"))),r.a.createElement(Q.a.Body,null,e)))}}]),a}(n.Component),_=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userId:null,username:null,email:null,balance:0,password:null,isLoggedIn:!1,activeItem:"Login",symbol:"",currentPrice:null,symbolData:{},qty:"",qtyPurchased:"",purchaseStatus:"",symbolPresent:!1,visible:!1,isOpen:!1},e.onFormChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(u.a)({},n,r))},e.handleItemClick=function(t,a){var n=a.name;return e.setState({activeItem:n})},e.hideSymbol=function(t){return e.setState({symbolPresent:!1})},e.onLoginSubmit=function(){var t=Object(i.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,T({email:e.state.email,password:e.state.password});case 3:(n=t.sent).data.username?e.setState({userId:n.data.id,username:n.data.username,email:n.data.email,balance:n.data.balance,isLoggedIn:!0,activeItem:"portfolio"}):e.handleOpen();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleOpen=function(){e.setState({isOpen:!0}),e.timeout=setTimeout((function(){e.setState({isOpen:!1})}),2500)},e.onRegisterSubmit=function(){var t=Object(i.a)(l.a.mark((function t(a){var n,r,c,o,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,r=n.username,c=n.email,o=n.password,a.preventDefault(),!(r&&c&&o)){t.next=10;break}return t.next=5,U({username:r,email:c,password:o,balance:1e4});case 5:s=t.sent,console.log(s),e.setState({userId:s.data.id,username:s.data.username,email:s.data.email,balance:s.data.balance,isLoggedIn:!0,activeItem:"portfolio"}),t.next=11;break;case 10:e.handleOpen();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSymbolSubmit=function(){var t=Object(i.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,H(e.state.symbol.toUpperCase());case 3:"FAILED"!==(n=t.sent).data?e.setState({symbol:"",symbolData:n.data,symbolPresent:!0,currentPrice:n.data.latestPrice}):e.handleOpen();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onBuySubmit=function(){var t=Object(i.a)(l.a.mark((function t(a){var n,r,c,o,s,i,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.balance,c=n.qty,o=n.currentPrice,s=n.userId,i=n.symbolData,!((u=r-o*c)>=0)){t.next=10;break}return t.next=6,W({companyName:i.companyName,ticker:i.symbol,qty:c,userId:s});case 6:return t.next=8,e.setState({balance:u,qty:"",purchaseStatus:"good",visible:!0,qtyPurchased:c,symbolPresent:!1});case 8:M(s,{balance:"".concat(u)}),setTimeout((function(){return e.setState({visible:!1})}),3e3);case 10:u<0&&(e.setState({visible:!0,purchaseStatus:"nogood",qty:""}),setTimeout((function(){return e.setState({visible:!1})}),3e3));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.userId,n=t.username,c=t.isLoggedIn,o=t.activeItem,s=t.balance,l=t.qty,i=t.qtyPurchased,u=t.symbol,m=t.symbolData,p=t.symbolPresent,h=t.currentPrice,b=t.purchaseStatus,f=t.visible,v=t.isOpen,y=t.handleOpen;return r.a.createElement("main",{className:"ui container fixed-margin"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{username:n,activeItem:o,handleItemClick:this.handleItemClick,balance:s}),r.a.createElement(d.a,{to:"/portfolio"}),r.a.createElement(d.b,{path:"/portfolio",render:function(){return r.a.createElement(J,{userId:a,onFormChange:e.onFormChange,balance:s,qty:l,qtyPurchased:i,symbol:u,symbolData:m,symbolPresent:p,onSymbolSubmit:e.onSymbolSubmit,onBuySubmit:e.onBuySubmit,currentPrice:h,hideSymbol:e.hideSymbol,purchaseStatus:b,visible:f,isOpen:v,handleOpen:y})}}),r.a.createElement(d.b,{path:"/transactions",render:function(){return r.a.createElement(Y,{userId:a,symbolData:m})}})):r.a.createElement(d.b,{exact:!0,path:"/",render:function(){return r.a.createElement(j,{isOpen:v,handleOpen:y,activeItem:o,handleItemClick:e.handleItemClick,onFormChange:e.onFormChange,onLoginSubmit:e.onLoginSubmit,onRegisterSubmit:e.onRegisterSubmit})}}))}}]),a}(n.Component);o.a.render(r.a.createElement(w.a,null,r.a.createElement(_,null)),document.getElementById("root"))}},[[224,1,2]]]);
//# sourceMappingURL=main.b8137f6f.chunk.js.map